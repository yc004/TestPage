<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>好无聊</title>
    <link rel="stylesheet" href="./index.css">
    <link rel="icon" href="./src/img/titleIcon.png" type="img/png">

    <!-- 使用 CDN 引入 jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>
<body>
<canvas id="mainCanvas" width="800" height="800">
    当前浏览器不兼容,请下载最新版浏览器
    <a href="https://www.google.com/chrome/"></a>
</canvas>

<img src="./src/img/titleIcon.png" alt="img" id="fillImg">

<button id="switch" onclick="window.location.href='main.html'" type="button">进入主页面</button>
<input type="button" value="跳转到下一个" onclick="window.location.href='Test.html'">

<script>
    let mainCanvas = document.getElementById('mainCanvas');
    let ctx = mainCanvas.getContext('2d');

    // 移动速度
    let vx = 0.5;
    let vy = 0.5;

    // 初始位置
    let x = mainCanvas.offsetWidth / 2;
    let y = mainCanvas.offsetHeight / 2;

    // 矩形尺寸
    let width = 150;
    let height = 150;

    // 渐变关键帧位置
    let position = 0;

    function render() {
        position += 0.001;
        if (position >= 1) {
            position = 0;
        }
        ctx.clearRect(0, 0, mainCanvas.width, mainCanvas.height);

        // 渐变色填充形状
        let radialGradient = ctx.createRadialGradient(x + width,
            y + height,
            0,
            x + width,
            y + height,
            Math.sqrt(Math.pow(width, 2) + Math.pow(height, 2)));
        radialGradient.addColorStop(0, 'blue');
        radialGradient.addColorStop(position, '#ce6fce')
        ctx.fillStyle = radialGradient;
        radialGradient.addColorStop(1, 'red');
        ctx.fillRect(x, y, width, height);


        // 偏移
        x += vx;
        y += vy;
        if (x + width >= mainCanvas.width || x <= 0) {
            vx = -vx;
            position = 0;

        }
        if (y + height >= mainCanvas.height || y <= 0) {
            vy = -vy;
            position = 0;

        }
        requestAnimationFrame(render);
    }

    requestAnimationFrame(render);

</script>
</body>
</html>